#root = planet

@stickiness = 10
@stickiness_low = 5

@small_planet_threshold = 18
@free_districts_verylow_threshold = 3
@free_districts_low_threshold = 5
@free_districts_medium_threshold = 10
@free_districts_high_threshold = 15
@built_districts_low_threshold = 3
@built_districts_medium_threshold = 4
@built_districts_high_threshold = 8

####################################################
###		CAPITAL WORLD DESIGNATIONS		    	 ###
####################################################
# 行政首都
col_capital = {
	icon = GFX_colony_type_capital_administrators

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				is_country_type = primitive
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 10
		planet_administrators_admin_cap_produces_add = 10
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.2
		#planet_labour_hero_produces_mult = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.1
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_eci_megacorp = yes
				num_buildings = { type = building_executive_retreat value >= 1 }
			}
		}
		job_executive_add = 1
		mult = value:count_building|BUILDING|building_executive_retreat|
	}

	weight_modifier = {
		base = 1000
	}
}

# 铸造首都
col_capital_foundry = {
	icon = GFX_colony_type_capital_foundry

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
					is_ai = yes
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				is_country_type = primitive
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_metallurgists_produces_mult = 0.25
		planet_administrators_admin_cap_produces_add = 5
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 1
		planet_metallurgists_energy_upkeep_add = 0.5
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_metallurgists_energy_upkeep_add = 0.25
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	# used by AI to estimate what will happen when we change the designation
	ai_resource_conversion = {
		consumer_goods = 0
		alloys = 2

		trigger = {
			owner = {
				is_gestalt = no
			}
		}
	}

	ai_resource_current_conversion = {
		alloys = 0.5
		consumer_goods = -2

		trigger = {
			owner = {
				is_gestalt = no
			}
		}
	}

	custom_tooltip = col_foundry_custom

	weight_modifier = {
		base = 0
	}
}

# 工业首都
col_capital_factory = {
	icon = GFX_colony_type_capital_factory

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
					is_ai = yes
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				is_country_type = primitive
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_artisans_produces_mult = 0.25
		planet_administrators_admin_cap_produces_add = 5
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 1.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 0.5
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	# used by AI to estimate what will happen when we change the designation
	ai_resource_conversion = {
		consumer_goods = 2
		alloys = 0

		trigger = {
			owner = {
				is_gestalt = no
			}
		}
	}

	custom_tooltip = col_factory_custom

	# Used by AI to estimate the current effects of this designation
	ai_resource_current_conversion = {
		consumer_goods = 0.5
		alloys = -0.5

		trigger = {
			owner = {
				is_gestalt = no
			}
		}
	}

	weight_modifier = {
		base = 0
	}
}

# 贸易首都
col_capital_trade = {
	icon = GFX_colony_type_capital_trade

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				is_country_type = primitive
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		trade_value_mult = 0.25
		planet_administrators_admin_cap_produces_add = 5
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.2
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.1
		#planet_labour_hero_produces_mult = 0.25
	}

	weight_modifier = {
		base = 0
	}
}

# 资源首都
col_capital_extraction = {
	icon = GFX_colony_type_capital_extraction

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_buildings_produces_mult = 0.15
		planet_jobs_worker_produces_mult = 0.15
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.1
		planet_jobs_upkeep_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.05
		planet_jobs_upkeep_mult = 0.05
	}

	weight_modifier = {
		base = 1000
	}
}

# 科研首都
col_capital_research = {
	icon = GFX_colony_type_capital_research

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_researchers_produces_mult = 0.25
		planet_administrators_admin_cap_produces_add = 5
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 1
		planet_researchers_society_research_produces_add = 1
		planet_researchers_engineering_research_produces_add = 1
		planet_researchers_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 0.5
		planet_researchers_society_research_produces_add = 0.5
		planet_researchers_engineering_research_produces_add = 0.5
		planet_researchers_energy_upkeep_add = 0.5
	}

	weight_modifier = {
		base = 1000
	}
}

# 文化首都
col_capital_unity = {
	icon = GFX_colony_type_capital_unity

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		job_culture_worker_add = 5
		planet_administrators_admin_cap_produces_add = 5
		pop_government_ethic_attraction = 1
		planet_resettlement_unemployed_destination_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.10
	}

	weight_modifier = {
		base = 1000
	}
}

# 堡垒首都
col_capital_fortress = {
	icon = GFX_colony_type_capital_fortress

	potential = {
		OR = {
			is_capital = yes
			AND = {
				exists = owner
				OR = {
					is_sector_capital = yes
					owner = { is_admin_decenter = yes }
				}
			}
		}
		NAND = {
			exists = owner
			owner = {
				OR = {
					NOT = { is_country_type = default }
					is_gestalt = yes
				}
			}
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_orbital_bombardment_damage = -0.25
		pop_defense_armies_add = 1
		pop_government_ethic_attraction = 1
		job_conscript_per_pop = 0.03
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	weight_modifier = {
		base = 500
		modifier = {
			add = 2500
			owner = { is_at_war = yes }
		}
	}
}

# 蜂巢首都
col_capital_hive = {
	icon = GFX_colony_type_capital

	potential = {
		is_capital = yes
		exists = owner
		owner = {
			is_country_type = default
			is_hive_empire = yes
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_amenities_no_happiness_add = 10
		planet_crime_no_happiness_add = -20
		planet_jobs_produces_mult = 0.1
		planet_resettlement_unemployed_destination_mult = 0.1
		planet_administrators_admin_cap_produces_add = 5
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.1
	}

	weight_modifier = {
		base = 0
	}
}

# 机械首都
col_capital_machine = {
	icon = GFX_colony_type_capital

	potential = {
		is_capital = yes
		exists = owner
		owner = {
			is_country_type = default
			is_machine_empire = yes
		}
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_amenities_no_happiness_add = 10
		planet_crime_no_happiness_add = -20
		planet_jobs_produces_mult = 0.15
		planet_resettlement_unemployed_destination_mult = 0.1
		planet_administrators_admin_cap_produces_add = 5
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_produces_mult = 0.1
	}

	weight_modifier = {
		base = 1000
	}
}

# 媒体星球
col_bureau = {
	icon = GFX_colony_type_bureaucratic

	potential = {
		exists = owner
		owner = {
			is_regular_empire = yes
			is_spiritualist = no
			has_make_spiritualist_perk = no
		}
		NOR = {
			uses_district_set = habitat
			uses_district_set = pdplanethab
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_media_workers_unity_produces_add = 1
		planet_administrators_upkeep_mult = -0.10
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.20
		#planet_labour_hero_unity_produces_mult = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.10
		#planet_labour_hero_unity_produces_mult = 0.5
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_bureau
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_administrative
			}
			mode = add
			mult = 6
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_media_worker_1
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_media_worker_2
			}
			mode = add
			mult = 4
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_media_worker_3
			}
			mode = add
			mult = 6
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "balanced"
					has_sector_focus = "unity"
				}
			}
		}
		modifier = {
			add = 10
			exists = sector
			sector = {
				has_sector_focus = "unity"
			}
		}
	}
}

# 教会星球
col_bureau_spiritualist = {
	icon = GFX_colony_type_bureaucratic

	potential = {
		exists = owner
		owner = {
			is_regular_empire = yes
			OR = {
				is_spiritualist = yes
				has_make_spiritualist_perk = yes
			}
		}
		NOR = {
			uses_district_set = habitat
			uses_district_set = pdplanethab
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		spiritualist_attraction = 0.5
		planet_priests_unity_produces_add = 1
		planet_administrators_upkeep_mult = -0.10
	}

	triggered_planet_modifier = {
		potential = { uses_district_set = ring_world }
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.20
		#planet_labour_hero_unity_produces_mult = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.10
		#planet_labour_hero_unity_produces_mult = 0.5
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_bureau_spiritualist
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_religious
			}
			mode = add
			mult = 6
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_temple
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_holotemple
			}
			mode = add
			mult = 4
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_sacred_nexus
			}
			mode = add
			mult = 6
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_sacrificial_temple_1
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_sacrificial_temple_2
			}
			mode = add
			mult = 4
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_sacrificial_temple_3
			}
			mode = add
			mult = 6
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "balanced"
					has_sector_focus = "unity"
				}
			}
		}
		modifier = {
			add = 10
			exists = sector
			sector = {
				has_sector_focus = "unity"
			}
		}
	}
}

# 官僚星球
col_bureau2 = {
	icon = GFX_colony_type_bureaucratic

	potential = {
		exists = owner
		owner = { is_regular_empire = yes }
		NOR = {
			uses_district_set = hive_world
			uses_district_set = habitat
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_administrators_admin_cap_produces_add = 5
		planet_bureaucrats_upkeep_mult = -0.10
		pop_ethics_shift_speed_mult = -0.20
	}

	weight_modifier = {
		base = 10
		modifier = {
			add = 5
			owner = { empire_sprawl_over_cap > 40 }
		}
		modifier = {
			add = 5
			has_designation = col_bureau
		}
		modifier = {
			add = 3
			num_buildings = { type = building_bureaucratic_1 value >= 2 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_bureaucratic_1 value >= 3 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_bureaucratic_1 value >= 4 }
		}
		modifier = {
			add = 6
			num_buildings = { type = building_bureaucratic_1 value >= 5 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_bureaucratic_2 value >= 1 }
		}
		modifier = {
			add = 6
			num_buildings = { type = building_bureaucratic_2 value >= 2 }
		}
		modifier = {
			factor = 0
			num_buildings = { type = building_bureaucratic_1 value = 0 }
			num_buildings = { type = building_bureaucratic_2 value = 0 }
		}
	}
}

# 殖民地
col_default = {
	icon = GFX_colony_type_normal_colony

	potential = {
		exists = owner
		owner = { is_regular_empire = yes}
		has_upgraded_capital = no
		is_special_colony_type = no
		is_capital = no
		num_pops < 5
		NOT = { uses_district_set = pdcrucible }
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_amenities_add = 10
		pop_happiness = 0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		pop_growth_speed = 0.25
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		pop_growth_speed = 0.15
		#planet_labour_hero_produces_mult = 0.25
	}

	weight_modifier = {
		base = 10
	}
}

# 机械殖民地
col_default_machine = {
	icon = GFX_colony_type_normal_colony

	potential = {
		exists = owner
		owner = { is_machine_empire = yes }
		has_upgraded_capital = no
		is_special_colony_type = no
		is_capital = no
		num_pops < 5
		NOT = { uses_district_set = pdcrucible }
	}

	planet_modifier = {
		planet_stability_add = 5
		planet_amenities_no_happiness_add = 10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_pop_assembly_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_pop_assembly_mult = 0.15
	}

	weight_modifier = {
		base = 10
	}
}

# 城市星球
col_city = {
	icon = GFX_colony_type_urban

	potential = {
		exists = owner
		owner = { is_regular_empire = yes }
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_structures_upkeep_mult = -0.10
		planet_district_city_build_speed_mult = 0.25
		trade_value_mult = 0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.2
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.1
		#planet_labour_hero_produces_mult = 0.25
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_city
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_city
			}
			mode = add
		}
		complex_trigger_modifier = {
			trigger = num_assigned_jobs
			parameters = {
				job = clerk
			}
			mode = add
			mult = 1.5
		}
	}
}

# 矿业星球
col_mining = {
	icon = GFX_colony_type_mine

	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_district_mining_build_speed_mult = 0.25
		planet_miners_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_miners_minerals_produces_add = 1.5
		planet_miners_energy_upkeep_add = 0.5
		#planet_labour_hero_minerals_produces_add = 4.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_miners_minerals_produces_add = 0.75
		planet_miners_energy_upkeep_add = 0.25
		#planet_labour_hero_minerals_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_mining
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_mining
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_mining_uncapped
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_free_districts
			parameters = {
				type = district_mining
			}
			mode = add
		}
		modifier = {
			add = 5
			OR = {
				has_modifier = asteroid_belt
				has_modifier = mineral_rich
				has_modifier = ultra_rich
				has_modifier = extensive_moon_system
				has_modifier = asteroid_impacts
				has_modifier = carbon_world
			}
		}
		modifier = {
			add = -10
			has_modifier = mineral_poor
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "production"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 农业星球
col_farming = {
	icon = GFX_colony_type_farm

	potential = {
		exists = owner
		owner = { country_uses_food = yes }
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_district_farming_build_speed_mult = 0.25
		planet_farmers_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 1.5
		planet_farmers_energy_upkeep_add = 0.5
		#planet_labour_hero_food_produces_add = 4.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 0.75
		planet_farmers_energy_upkeep_add = 0.25
		#planet_labour_hero_food_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_farming
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_farming
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_farming_uncapped
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_free_districts
			parameters = {
				type = district_farming
			}
			mode = add
		}
		modifier = {
			add = 5
			has_modifier = lush_planet
		}
		modifier = {
			add = -10
			OR = {
				has_modifier = bleak_planet
				has_modifier = unbalanced_ecosystem
				has_modifier = irradiated_planet
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "production"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 发电星球
col_generator = {
	icon = GFX_colony_type_generator

	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_district_generator_build_speed_mult = 0.25
		planet_technician_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 1
		#planet_labour_hero_energy_produces_add = 3
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 0.5
		#planet_labour_hero_energy_produces_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_generator
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_generator
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_generator_uncapped
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_free_districts
			parameters = {
				type = district_generator
			}
			mode = add
		}
		modifier = {
			add = 5
			OR = {
				has_modifier = hazardous_weather
				has_modifier = strong_magnetic_field
			}
		}
		modifier = {
			add = -10
			has_modifier = energy_poor
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "production"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 蜂巢星球
col_hive = {
	icon = GFX_colony_type_urban

	potential = {
		NOR = {
			uses_district_set = ring_world
			uses_district_set = habitat
		}
		NOR = {
			is_planet_class = pc_pd_barren_cold_hab
			is_planet_class = pc_pd_barren_hab
			is_planet_class = pc_pd_frozen_hab
			is_planet_class = pc_pd_gas_giant_hab
			is_planet_class = pc_pd_hothouse_hab
			is_planet_class = pc_pd_toxic_hab
			is_planet_class = pc_pd_molten_hab
			is_planet_class = pc_pd_asteroid_hab
		}
		exists = owner
		owner = { is_hive_empire = yes }
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_structures_upkeep_mult = -0.10
		planet_jobs_complex_drone_produces_mult = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.1
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_hive
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hive
			}
			mode = add
			mult = 2
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOT = { has_sector_focus = "balanced" }
			}
		}
	}
}

# 智械星球
col_nexus = {
	icon = GFX_colony_type_urban

	potential = {
		NOR = {
			uses_district_set = machine_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		exists = owner
		owner = { is_machine_empire = yes }
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_structures_upkeep_mult = -0.10
		planet_jobs_complex_drone_produces_mult = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_amenities_mult = 0.1
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_nexus
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_nexus
			}
			mode = add
			mult = 2
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOT = { has_sector_focus = "balanced" }
			}
		}
	}
}

# 全面工业星球
col_industrial = {
	icon = GFX_colony_type_industrial

	potential = {
		exists = owner
		OR = {
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_machine_servitor }
		}
		NOR = {
			uses_district_set = city_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = ring_world
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}


	custom_tooltip = col_industrial_custom
	planet_modifier = {
		planet_district_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.1
		planet_artisans_upkeep_mult = -0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_artisans_consumer_goods_produces_add = 0.75
		planet_metallurgists_energy_upkeep_add = 0.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.25
		planet_artisans_consumer_goods_produces_add = 0.33
		planet_metallurgists_energy_upkeep_add = 0.25
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}


	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_industrial
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 15
			AND = {
				OR = {
					has_building = building_factory_1
					has_building = building_factory_2
					has_building = building_factory_3
				}
				OR = {
					has_building = building_foundry_1
					has_building = building_foundry_2
					has_building = building_foundry_3
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 铸造星球
col_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = ring_world
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinecapital
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
		}
		is_special_colony_type = no
		is_capital = no
	}

	custom_tooltip = col_foundry_custom
	planet_modifier = {
		planet_district_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 1
		planet_metallurgists_energy_upkeep_add = 0.5
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_metallurgists_energy_upkeep_add = 0.25
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_foundry
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_industrial value >= 1 }
			exists = owner
			owner = {
				OR = {
					country_uses_consumer_goods = no
					has_monthly_income = { resource = consumer_goods value >= 0 }
				}
				resource_revenue_compare = {
					resource = alloys
					value < trigger:years_passed
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 制造星球
col_factory = {
	icon = GFX_colony_type_factory

	potential = {
		exists = owner
		OR = {
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_machine_servitor }
		}
		NOR = {
			uses_district_set = city_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = ring_world
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	custom_tooltip = col_factory_custom
	planet_modifier = {
		planet_district_industrial_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 1.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 0.5
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_factory
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_industrial value >= 1 }
			exists = owner
			owner = {
				resource_revenue_compare = {
					resource = alloys
					value >= trigger:years_passed
				}
				has_monthly_income = { resource = consumer_goods value < 0 }
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 精炼星球
col_refinery = {
	icon = GFX_colony_type_refinery

	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdmilarc
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_refiners_produces_mult = 0.15
		planet_translucers_produces_mult = 0.15
		planet_chemists_produces_mult = 0.15
		planet_sr_miners_produces_mult = 0.15
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_rare_crystals_produces_mult = 0.1
		planet_jobs_exotic_gases_produces_mult = 0.1
		planet_jobs_volatile_motes_produces_mult = 0.1
		#planet_labour_hero_volatile_motes_produces_add = 1
		#planet_labour_hero_rare_crystals_produces_add = 1
		#planet_labour_hero_exotic_gases_produces_add = 1
		#planet_labour_hero_minerals_upkeep_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_rare_crystals_produces_mult = 0.05
		planet_jobs_exotic_gases_produces_mult = 0.05
		planet_jobs_volatile_motes_produces_mult = 0.05
		#planet_labour_hero_volatile_motes_produces_add = 0.5
		#planet_labour_hero_rare_crystals_produces_add = 0.5
		#planet_labour_hero_exotic_gases_produces_add = 0.5
		#planet_labour_hero_minerals_upkeep_add = 2.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_refiners_produces_mult = 0.1
			planet_translucers_produces_mult = 0.1
			planet_chemists_produces_mult = 0.1
			planet_sr_miners_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_refinery
		}
		complex_trigger_modifier = {
			trigger = count_owned_pop
			parameters = {
				limit = {
					has_sr_producing_job = yes
				}
			}
			mode = add
			mult = 3
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				not = { has_sector_focus = "manufacturing" }
				not = { has_sector_focus = "balanced" }
			}
		}
	}
}

# 研究星球
col_research = {
	icon = GFX_colony_type_research

	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdmilarc
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_building_research_lab_1_build_speed_mult = 0.25
		planet_researchers_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 1
		planet_researchers_society_research_produces_add = 1
		planet_researchers_engineering_research_produces_add = 1
		planet_researchers_energy_upkeep_add = 1
		#planet_labour_hero_physics_research_produces_add = 1
		#planet_labour_hero_society_research_produces_add = 1
		#planet_labour_hero_engineering_research_produces_add = 1
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 0.5
		planet_researchers_society_research_produces_add = 0.5
		planet_researchers_engineering_research_produces_add = 0.5
		planet_researchers_energy_upkeep_add = 0.5
		#planet_labour_hero_physics_research_produces_add = 0.5
		#planet_labour_hero_society_research_produces_add = 0.5
		#planet_labour_hero_engineering_research_produces_add = 0.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
			}
		}
		modifier = {
			planet_jobs_unity_produces_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
				has_ethic = ethic_fanatic_materialist
			}
		}
		modifier = {
			biological_pop_happiness = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_research
		}
		complex_trigger_modifier = {
			trigger = count_owned_pop
			parameters = {
				limit = {
					has_research_job = yes
				}
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 5
			OR = {
				has_modifier = wild_storms
				has_modifier = titanic_life
				has_modifier = atmospheric_hallucinogen
				has_modifier = liquid_sands
				has_modifier = dangerous_wildlife
				has_modifier = unstable_tectonics
				has_modifier = society_animal_life
				has_modifier = tamed_nanite_swarm_modifier
				has_deposit = d_central_spire
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "research"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 堡垒星球
col_fortress = {
	icon = GFX_colony_type_fortress

	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
		}
		NOR = {
			is_planet_class = pc_pd_barren_cold_hab
			is_planet_class = pc_pd_barren_hab
			is_planet_class = pc_pd_frozen_hab
			is_planet_class = pc_pd_gas_giant_hab
			is_planet_class = pc_pd_hothouse_hab
			is_planet_class = pc_pd_toxic_hab
			is_planet_class = pc_pd_molten_hab
			is_planet_class = pc_pd_asteroid_hab
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_building_stronghold_build_speed_mult = -0.20
		planet_orbital_bombardment_damage = -0.10
		army_defense_damage_mult = 0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
				is_gestalt = no
				OR = {
					has_ethic = ethic_fanatic_socialism
					has_valid_civic = civic_worker_coop
					has_valid_civic = civic_glorious_pioneer
					has_active_tradition = tr_future_economy
				}
			}
		}
		job_conscript_per_pop = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
				is_gestalt = no
				NOR = {
					has_ethic = ethic_fanatic_socialism
					has_valid_civic = civic_worker_coop
					has_valid_civic = civic_glorious_pioneer
					has_active_tradition = tr_future_economy
				}
			}
		}
		job_conscript_per_pop = 0.03
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
				is_gestalt = yes
			}
		}
		job_warrior_drone_per_pop = 0.05
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_fortress
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_stronghold
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_fortress
			}
			mode = add
			mult = 4
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
			}
		}
	}
}

# 居住站
col_habitat = {
	icon = GFX_colony_type_habitat

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
		num_sapient_pops < 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.1
		#planet_labour_hero_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.05
		#planet_labour_hero_produces_mult = 0.15
	}

	weight_modifier = {
		base = 500
	}
}

# 能源居住站
col_habitat_energy = {
	icon = GFX_colony_type_habitat_energy

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
		exists = owner
		OR = {
			owner = { is_gestalt = yes }
			has_planet_flag = energy_habitat
		}
	}
	planet_modifier = {
		planet_district_hab_energy_build_speed_mult = 0.25
		planet_technician_produces_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 1
		#planet_labour_hero_energy_produces_add = 3
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 0.5
		#planet_labour_hero_energy_produces_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_energy
		}
		modifier = {
			add = 5
			has_planet_flag = energy_habitat
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_energy
			}
			mode = add
			mult = 3
		}
	}
}

# 休闲居住站
col_habitat_leisure = {
	icon = GFX_colony_type_habitat_leisure

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
		exists = owner
		owner = {
			OR = {
				is_gestalt = no
				has_valid_civic = civic_machine_servitor
			}
		}
	}
	planet_modifier = {
		planet_district_hab_cultural_build_speed_mult = 0.25
		pop_happiness = 0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.20
		#planet_labour_hero_unity_produces_mult = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.10
		#planet_labour_hero_unity_produces_mult = 0.5
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_leisure
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_cultural
			}
			mode = add
			mult = 3
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
			}
		}
	}
}

# 贸易居住站
col_habitat_trade = {
	icon = GFX_colony_type_habitat_trade

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
		exists = owner
		owner = { is_gestalt = no }
	}
	planet_modifier = {
		planet_district_hab_commercial_build_speed_mult = 0.25
		trade_value_mult = 0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		#planet_labour_hero_produces_mult = 0.25
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_trade
		}
		complex_trigger_modifier = {
			trigger = num_assigned_jobs
			parameters = {
				job = trader # merchant jobs act as a pretty decent proxy for "this is a trade planet"
			}
			mode = add
			mult = 2
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_commercial
			}
			mode = add
			mult = 3
		}
	}
}

# 研究居住站
col_habitat_research = {
	icon = GFX_colony_type_habitat_research

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
	}
	planet_modifier = {
		planet_district_hab_science_build_speed_mult = 0.25
		planet_researchers_produces_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 1
		planet_researchers_society_research_produces_add = 1
		planet_researchers_engineering_research_produces_add = 1
		planet_researchers_energy_upkeep_add = 1
		#planet_labour_hero_physics_research_produces_add = 1
		#planet_labour_hero_society_research_produces_add = 1
		#planet_labour_hero_engineering_research_produces_add = 1
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 0.5
		planet_researchers_society_research_produces_add = 0.5
		planet_researchers_engineering_research_produces_add = 0.5
		planet_researchers_energy_upkeep_add = 0.5
		#planet_labour_hero_physics_research_produces_add = 0.5
		#planet_labour_hero_society_research_produces_add = 0.5
		#planet_labour_hero_engineering_research_produces_add = 0.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
			}
		}
		modifier = {
			planet_jobs_unity_produces_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
				has_ethic = ethic_fanatic_materialist
			}
		}
		modifier = {
			biological_pop_happiness = 0.05
		}
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_research
		}
		modifier = {
			add = 5
			has_planet_flag = research_habitat
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_science
			}
			mode = add
			mult = 3
		}
		complex_trigger_modifier = {
			trigger = count_owned_pop
			parameters = {
				limit = {
					has_research_job = yes
				}
			}
			mode = add
			mult = 3
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "balanced"
					has_sector_focus = "research"
				}
			}
		}
	}
}

# 矿业居住站
col_habitat_mining = {
	icon = GFX_colony_type_habitat_mining

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		has_planet_flag = mining_habitat
	}
	planet_modifier = {
		planet_district_hab_mining_build_speed_mult = 0.25
		planet_miners_produces_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			is_capital = no
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_miners_minerals_produces_add = 1.5
		planet_miners_energy_upkeep_add = 0.5
		#planet_labour_hero_minerals_produces_add = 4.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_miners_minerals_produces_add = 0.75
		planet_miners_energy_upkeep_add = 0.25
		#planet_labour_hero_minerals_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_mining
		}
		modifier = {
			add = 5
			has_planet_flag = mining_habitat
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_mining
			}
			mode = add
			mult = 3
		}
	}
}

# 农业居住站
col_habitat_farming = {
	icon = GFX_colony_type_habitat_farming

	potential = {
		uses_district_set = habitat
		exists = owner
		owner = {
			is_gestalt = no
		}
		is_capital = no
	}
	custom_tooltip = col_habitat_farming_desc_custom
	planet_modifier = {
		planet_building_hydroponics_farm_build_speed_mult = 0.25
		planet_farmers_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 1.5
		planet_farmers_energy_upkeep_add = 0.5
		#planet_labour_hero_food_produces_add = 4.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 0.75
		planet_farmers_energy_upkeep_add = 0.25
		#planet_labour_hero_food_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_farming
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_hydroponics_farm
			}
			mode = add
			mult = 4
		}
	}
}

# 堡垒居住站
col_habitat_fortress = {
	icon = GFX_colony_type_habitat_fortress

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
	}
	planet_modifier = {
		planet_building_stronghold_build_speed_mult = 0.25
		planet_orbital_bombardment_damage = -0.10
		army_defense_damage_mult = 0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = economic_stance_planned
				is_gestalt = no
				OR = {
					has_ethic = ethic_fanatic_socialism
					has_valid_civic = civic_worker_coop
					has_valid_civic = civic_glorious_pioneer
					has_active_tradition = tr_future_economy
				}
			}
		}
		job_conscript_per_pop = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = economic_stance_planned
				is_gestalt = no
				NOR = {
					has_ethic = ethic_fanatic_socialism
					has_valid_civic = civic_worker_coop
					has_valid_civic = civic_glorious_pioneer
					has_active_tradition = tr_future_economy
				}
			}
		}
		job_conscript_per_pop = 0.03
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = economic_stance_planned
				is_gestalt = yes
			}
		}
		job_warrior_drone_per_pop = 0.05
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_fortress
		}
		modifier = {
			add = 100
			OR = {
				has_building = building_order_keep
				has_building = building_order_castle
			}
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_stronghold
			}
			mode = add
			mult = 3
		}
		complex_trigger_modifier = {
			trigger = num_buildings
			parameters = {
				type = building_fortress
			}
			mode = add
			mult = 6
		}
	}
}

# 全面工业居住站
col_habitat_industrial = {
	icon = GFX_colony_type_industrial

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
	}
	custom_tooltip = col_industrial_custom
	planet_modifier = {
		planet_district_hab_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.1
		planet_artisans_upkeep_mult = -0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_artisans_consumer_goods_produces_add = 0.75
		planet_metallurgists_energy_upkeep_add = 0.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.25
		planet_artisans_consumer_goods_produces_add = 0.33
		planet_metallurgists_energy_upkeep_add = 0.25
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_industrial
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 15
			AND = {
				OR = {
					has_building = building_factory_1
					has_building = building_factory_2
					has_building = building_factory_3
				}
				OR = {
					has_building = building_foundry_1
					has_building = building_foundry_2
					has_building = building_foundry_3
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 铸造居住站
col_habitat_foundry = {
	icon = GFX_colony_type_habitat_foundry

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
	}
	custom_tooltip = col_habitat_foundry_custom
	planet_modifier = {
		planet_district_hab_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 1
		planet_metallurgists_energy_upkeep_add = 0.5
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_metallurgists_energy_upkeep_add = 0.25
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_foundry
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_hab_industrial value >= 1 }
			exists = owner
			owner = {
				OR = {
					country_uses_consumer_goods = no
					has_monthly_income = { resource = consumer_goods value >= 0 }
				}
				resource_revenue_compare = {
					resource = alloys
					value < trigger:years_passed
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 制造居住站
col_habitat_factory = {
	icon = GFX_colony_type_habitat_factory

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
		exists = owner
		owner = {
			OR = {
				is_regular_empire = yes
				has_civic = civic_machine_servitor
			}
		}
	}
	custom_tooltip = col_habitat_factory_custom
	planet_modifier = {
		planet_district_hab_industrial_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 1.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 0.5
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}
	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_factory
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_hab_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_hab_industrial value >= 1 }
			exists = owner
			owner = {
				resource_revenue_compare = {
					resource = alloys
					value >= trigger:years_passed
				}
				has_monthly_income = { resource = consumer_goods value < 0 }
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 精炼居住站
col_habitat_refinery = {
	icon = GFX_colony_type_habitat_refinery

	potential = {
		OR = {
			uses_district_set = habitat
			uses_district_set = pdarchive
			uses_district_set = pdwarform
		}
		is_capital = no
	}
	planet_modifier = {
		planet_refiners_produces_mult = 0.15
		planet_translucers_produces_mult = 0.15
		planet_chemists_produces_mult = 0.15
		planet_sr_miners_produces_mult = 0.15
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_rare_crystals_produces_mult = 0.1
		planet_jobs_exotic_gases_produces_mult = 0.1
		planet_jobs_volatile_motes_produces_mult = 0.1
		#planet_labour_hero_volatile_motes_produces_add = 1
		#planet_labour_hero_rare_crystals_produces_add = 1
		#planet_labour_hero_exotic_gases_produces_add = 1
		#planet_labour_hero_minerals_upkeep_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_rare_crystals_produces_mult = 0.05
		planet_jobs_exotic_gases_produces_mult = 0.05
		planet_jobs_volatile_motes_produces_mult = 0.05
		#planet_labour_hero_volatile_motes_produces_add = 0.5
		#planet_labour_hero_rare_crystals_produces_add = 0.5
		#planet_labour_hero_exotic_gases_produces_add = 0.5
		#planet_labour_hero_minerals_upkeep_add = 2.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_refiners_produces_mult = 0.05
			planet_translucers_produces_mult = 0.05
			planet_chemists_produces_mult = 0.05
			planet_sr_miners_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_habitat_refinery
		}
		complex_trigger_modifier = {
			trigger = count_owned_pop
			parameters = {
				limit = {
					has_sr_producing_job = yes
				}
			}
			mode = add
			mult = 3
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				not = { has_sector_focus = "manufacturing" }
				not = { has_sector_focus = "balanced" }
			}
		}
	}
}

# 边缘星球
col_rural_gestalt = {
	icon = GFX_colony_type_fringe

	potential = {
		NOR = {
			uses_district_set = habitat
			uses_district_set = ring_world
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = pdarchive
			uses_district_set = pdwarform
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdplanethab
			uses_district_set = pdbioforge
			uses_district_set = pdbiocapital
			uses_district_set = pdmachinefactory
			uses_district_set = pdmachinecapital
			uses_district_set = pdfloraforge
			uses_district_set = pdbiofort
			uses_district_set = pdmachinefort
			uses_district_set = pdcorpoarc
			uses_district_set = pdcrucible
		}
		exists = owner
		owner = { is_gestalt = yes }
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_district_farming_build_speed_mult = 0.25
		planet_district_mining_build_speed_mult = 0.25
		planet_district_generator_build_speed_mult = 0.25
		planet_jobs_simple_drone_produces_mult = 0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.1
	}

	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_rural_gestalt
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "production"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 乡村星球
col_rural = {
	icon = GFX_colony_type_rural

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			uses_district_set = habitat
			uses_district_set = ring_world
			uses_district_set = machine_world
			uses_district_set = hive_world
			uses_district_set = city_world
			uses_district_set = pdecocity
			uses_district_set = pdmilarc
			uses_district_set = pdcorpoarc
			uses_district_set = pdtechnoarch
		}
		is_special_colony_type = no
		is_capital = no
	}

	planet_modifier = {
		planet_district_farming_build_speed_mult = 0.25
		planet_district_generator_build_speed_mult = 0.25
		planet_district_mining_build_speed_mult = 0.25
		planet_jobs_worker_produces_mult = 0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 0.75
		planet_miners_energy_upkeep_add = 0.5
		planet_miners_minerals_produces_add = 1.25
		planet_farmers_energy_upkeep_add = 0.5
		planet_farmers_food_produces_add = 1.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.2
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.1
		#planet_labour_hero_produces_mult = 0.25
	}

	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_rural
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "production"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# Fallen Empire Capital
col_fe_capital = {
	icon = GFX_colony_type_capital

	potential = {
		is_capital = yes
		exists = owner
		owner = { is_fallen_empire = yes }
	}

	planet_modifier = {
		planet_stability_add = 10
	}

	weight_modifier = {
		base = 1000
	}
}

# Fallen Empire Colony
col_fe_colony = {
	icon = GFX_colony_type_normal_colony

	potential = {
		is_capital = no
		exists = owner
		owner = { is_fallen_empire = yes }
	}

	planet_modifier = {
		planet_stability_add = 5
	}

	weight_modifier = {
		base = 1000
	}
}

# Resort World
col_resort = {
	icon = GFX_colony_type_resort

	potential = {
		has_modifier = resort_colony
	}

	planet_modifier = {
		planet_housing_add = 10
	}

	weight_modifier = {
		base = 1000
	}
}

# Penal Colony
col_penal = {
	icon = GFX_colony_type_penal

	potential = {
		has_modifier = penal_colony
	}

	weight_modifier = {
		base = 1000
	}
}

# 太空时代早期
col_pre_ftl_early_space = {
	icon = GFX_colony_type_pre_ftl_space

	potential = {
		exists = owner
		owner = {
			OR = {
				AND = {
					is_country_type = primitive
					has_pre_ftl_age = early_space_age
				}
				is_country_type = primitive
			}
		}
	}

	weight_modifier = {
		base = 1000
	}
}

# Infested World
col_infested = {
	icon = GFX_colony_type_dying

	potential = {
		exists = owner
		owner = { is_country_type = swarm }
	}

	weight_modifier = {
		base = 1000
	}
}

# Contingency World
col_contingency = {
	icon = GFX_colony_type_dying

	potential = {
		exists = owner
		owner = { is_country_type = ai_empire }
	}

	weight_modifier = {
		base = 1000
	}
}

# Slave-Breeding Colony
col_slave = {
	icon = GFX_colony_type_workers

	potential = {
		has_modifier = slave_colony
	}

	weight_modifier = {
		base = 1000
	}
}

# 环世界
col_ring_mix = {
	icon = GFX_colony_type_workers

	potential = {
		uses_district_set = ring_world
		is_capital = no
	}

	planet_modifier = {
		planet_immigration_pull_mult = 0.2
		planet_jobs_produces_mult = 0.05
		pop_growth_speed = 0.15
		planet_pop_assembly_mult = 0.15
		planet_pop_assembly_organic_mult = 0.15
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.2
		#planet_labour_hero_produces_mult = 0.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.1
		#planet_labour_hero_produces_mult = 0.25
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_mix
		}

		modifier = {
			add = 10
			num_sapient_pops < 15
		}
	}
}

#研究环世界
col_ring_research = {
	icon = GFX_colony_type_research

	potential = {
		uses_district_set = ring_world
		is_capital = no
	}

	planet_modifier = {
		planet_jobs_engineering_research_produces_mult = 0.15
		planet_jobs_physics_research_produces_mult = 0.15
		planet_jobs_society_research_produces_mult = 0.15
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
			}
		}
		modifier = {
			planet_jobs_unity_produces_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
				has_ethic = ethic_fanatic_materialist
			}
		}
		modifier = {
			biological_pop_happiness = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 1
		planet_researchers_society_research_produces_add = 1
		planet_researchers_engineering_research_produces_add = 1
		planet_researchers_energy_upkeep_add = 1
		#planet_labour_hero_physics_research_produces_add = 1
		#planet_labour_hero_society_research_produces_add = 1
		#planet_labour_hero_engineering_research_produces_add = 1
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 0.5
		planet_researchers_society_research_produces_add = 0.5
		planet_researchers_engineering_research_produces_add = 0.5
		planet_researchers_energy_upkeep_add = 0.5
		#planet_labour_hero_physics_research_produces_add = 0.5
		#planet_labour_hero_society_research_produces_add = 0.5
		#planet_labour_hero_engineering_research_produces_add = 0.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_research
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_science
			}
			mode = add
			mult = 10
		}
		complex_trigger_modifier = {
			trigger = count_owned_pop
			parameters = {
				limit = {
					has_research_job = yes
				}
			}
			mode = add
			mult = 3
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "balanced"
					has_sector_focus = "research"
				}
			}
		}
	}
}

#农业环世界
col_ring_farming = {
	icon = GFX_colony_type_farm

	potential = {
		uses_district_set = ring_world
		is_capital = no
	}

	planet_modifier = {
		planet_farmers_food_produces_mult = 0.25
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 1.5
		planet_farmers_energy_upkeep_add = 0.5
		#planet_labour_hero_food_produces_add = 4.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 0.75
		planet_farmers_energy_upkeep_add = 0.25
		#planet_labour_hero_food_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_farming
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_farming
			}
			mode = add
			mult = 10
		}
	}
}

#贸易环世界
col_ring_trade = {
	icon = GFX_colony_type_urban

	potential = {
		uses_district_set = ring_world
		is_capital = no
		exists = owner
		owner = { is_gestalt = no }
	}

	planet_modifier = {
		trade_value_mult = 0.2
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		#planet_labour_hero_produces_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		#planet_labour_hero_produces_mult = 0.25
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_trade
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_commercial
			}
			mode = add
			mult = 10
		}
		complex_trigger_modifier = {
			trigger = num_assigned_jobs
			parameters = {
				job = trader # merchant jobs act as a pretty decent proxy for "this is a trade planet"
			}
			mode = add
			mult = 2
		}
	}
}

#发电环世界
col_ring_generator = {
	icon = GFX_colony_type_generator

	potential = {
		uses_district_set = ring_world
		is_capital = no
		exists = owner
		owner = {
			OR = {
				is_socialism = yes
				is_gestalt = yes
			}
		}
	}

	planet_modifier = {
		planet_technician_energy_produces_mult = 0.25
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 1
		#planet_labour_hero_energy_produces_add = 3
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_technician_energy_produces_add = 0.5
		#planet_labour_hero_energy_produces_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_generator
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_generator
			}
			mode = add
			mult = 10
		}
	}
}

# 铸造环世界
col_ring_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		uses_district_set = ring_world
		is_capital = no
	}

	custom_tooltip = col_foundry_custom
	planet_modifier = {
		planet_district_rw_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.2
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 1
		planet_metallurgists_energy_upkeep_add = 0.5
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_metallurgists_energy_upkeep_add = 0.25
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_foundry
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_rw_industrial value >= 1 }
			exists = owner
			owner = {
				OR = {
					country_uses_consumer_goods = no
					has_monthly_income = { resource = consumer_goods value >= 0 }
				}
				resource_revenue_compare = {
					resource = alloys
					value < trigger:years_passed
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 制造环世界
col_ring_factory = {
	icon = GFX_colony_type_factory

	potential = {
		uses_district_set = ring_world
		is_capital = no
		exists = owner
		OR = {
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_machine_servitor }
		}
	}

	custom_tooltip = col_factory_custom
	planet_modifier = {
		planet_district_rw_industrial_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.2
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 1.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 0.5
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_factory
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_rw_industrial value >= 1 }
			exists = owner
			owner = {
				resource_revenue_compare = {
					resource = alloys
					value >= trigger:years_passed
				}
				has_monthly_income = { resource = consumer_goods value < 0 }
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 全面工业环世界
col_ring_industry = {
	icon = GFX_colony_type_industrial

	potential = {
		uses_district_set = ring_world
		is_capital = no
		exists = owner
		OR = {
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_machine_servitor }
		}
	}


	custom_tooltip = col_industrial_custom
	planet_modifier = {
		planet_district_rw_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.1
		planet_artisans_upkeep_mult = -0.1
		pop_growth_speed = 0.1
		planet_pop_assembly_mult = 0.1
		planet_pop_assembly_organic_mult = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_artisans_consumer_goods_produces_add = 0.75
		planet_metallurgists_energy_upkeep_add = 0.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.25
		planet_artisans_consumer_goods_produces_add = 0.33
		planet_metallurgists_energy_upkeep_add = 0.25
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ring_industrial
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_rw_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 15
			AND = {
				OR = {
					has_building = building_factory_1
					has_building = building_factory_2
					has_building = building_factory_3
				}
				OR = {
					has_building = building_foundry_1
					has_building = building_foundry_2
					has_building = building_foundry_3
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# Machine World
col_mac = {
	icon = GFX_colony_type_urban

	potential = {
		uses_district_set = machine_world
		is_capital = no
	}


	planet_modifier = {
		planet_district_mining_uncapped_build_speed_mult = 0.25
		planet_district_generator_uncapped_build_speed_mult = 0.25
		planet_jobs_simple_drone_produces_mult = 0.05
	}

	weight_modifier = {
		modifier = {
			add = @stickiness_low
			has_designation = col_mac
		}
		modifier = {
			add = 10
			num_sapient_pops < 10
		}
	}
}

# Machine World Foundry
col_mac_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		uses_district_set = machine_world
		is_capital = no
	}


	planet_modifier = {
		custom_tooltip = col_foundry_custom
		planet_district_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_mac_foundry
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_industrial value >= 1 }
			exists = owner
			owner = {
				OR = {
					country_uses_consumer_goods = no
					has_monthly_income = { resource = consumer_goods value >= 0 }
				}
				resource_revenue_compare = {
					resource = alloys
					value < trigger:years_passed
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# Machine World Factory
col_mac_factory = {
	icon = GFX_colony_type_factory

	potential = {
		OR = {
			uses_district_set = machine_world
			uses_district_set = pdmachinefactory
		}
		is_capital = no
		owner = { has_civic = civic_machine_servitor }
	}


	planet_modifier = {
		custom_tooltip = col_factory_custom
		planet_district_industrial_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_mac_factory
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_industrial value >= 1 }
			exists = owner
			owner = {
				resource_revenue_compare = {
					resource = alloys
					value >= trigger:years_passed
				}
				has_monthly_income = { resource = consumer_goods value < 0 }
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# Hive World
col_hiv = {
	icon = GFX_colony_type_urban

	potential = {
		uses_district_set = hive_world
		is_capital = no
	}

	planet_modifier = {
		planet_district_mining_uncapped_build_speed_mult = 0.25
		planet_district_farming_uncapped_build_speed_mult = 0.25
		planet_district_generator_uncapped_build_speed_mult = 0.25
		planet_jobs_simple_drone_produces_mult = 0.05
	}

	weight_modifier = {
		modifier = {
			add = @stickiness_low
			has_designation = col_hiv
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "production"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# Hive World Foundry
col_hiv_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		uses_district_set = hive_world
		is_capital = no
	}

	planet_modifier = {
		planet_district_industrial_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.20
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_hiv_foundry
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_industrial
			}
			mode = add
			mult = 3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_industrial value >= 1 }
			exists = owner
			owner = {
				resource_revenue_compare = {
					resource = alloys
					value < trigger:years_passed
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 都市星球
col_ecu_mix = {
	icon = GFX_colony_type_urban

	potential = {
		is_capital = no
		OR = {
			uses_district_set = city_world
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdmachinecapital
			uses_district_set = pdmilarc
			uses_district_set = pdmachinecapital
			uses_district_set = pdcorpoarc
		}
	}


	planet_modifier = {
		planet_districts_cost_mult = -0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.1
		#planet_labour_hero_produces_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_districts_cost_mult = -0.05
		#planet_labour_hero_produces_mult = 0.15
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_mix
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_housing
			}
			mode = add
			mult = 6
		}
		complex_trigger_modifier = {
			trigger = num_assigned_jobs
			parameters = {
				job = trader # merchant jobs act as a pretty decent proxy for "this is a trade planet"
			}
			mode = add
			mult = 2
		}
	}
}

# 铸造型都市星球
col_ecu_foundry = {
	icon = GFX_colony_type_foundry

	potential = {
		is_capital = no
		OR = {
			uses_district_set = city_world
			uses_district_set = pdcorpoarc
			uses_district_set = pdmilarc
		}
	}


	planet_modifier = {
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 1
		planet_metallurgists_energy_upkeep_add = 0.5
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_metallurgists_energy_upkeep_add = 0.25
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_foundry
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_arms_industry
			}
			mode = add
			mult = 8
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_civilian_industry
			}
			mode = add
			mult = -3
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			add = 10
			num_districts = { type = district_arcology_arms_industry value >= 1 }
			exists = owner
			owner = {
				OR = {
					country_uses_consumer_goods = no
					has_monthly_income = { resource = consumer_goods value >= 0 }
				}
				resource_revenue_compare = {
					resource = alloys
					value < trigger:years_passed
				}
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 制造型都市星球
col_ecu_factory = {
	icon = GFX_colony_type_factory

	potential = {
		is_capital = no
		OR = {
			uses_district_set = city_world
			uses_district_set = pdcorpoarc
		}
		exists = owner
		OR = {
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_machine_servitor }
		}
	}


	planet_modifier = {
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_artisans_upkeep_mult = -0.2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 1.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_artisans_consumer_goods_produces_add = 0.5
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_factory
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_civilian_industry
			}
			mode = add
			mult = 8
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_arms_industry
			}
			mode = add
			mult = -3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = -5
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 全面工业都市星球
col_ecu_industrial = {
	icon = GFX_colony_type_industrial

	potential = {
		is_capital = no
		OR = {
			uses_district_set = city_world
			uses_district_set = pdcorpoarc
		}
		exists = owner
		OR = {
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_machine_servitor }
		}
	}


	custom_tooltip = col_industrial_custom
	planet_modifier = {
		planet_district_arcology_arms_industry_build_speed_mult = 0.25
		planet_metallurgists_upkeep_mult = -0.1
		planet_artisans_upkeep_mult = -0.1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.5
		planet_artisans_consumer_goods_produces_add = 0.75
		planet_metallurgists_energy_upkeep_add = 0.5
		planet_artisans_energy_upkeep_add = 0.5
		#planet_labour_hero_consumer_goods_produces_add = 3
		#planet_labour_hero_alloys_produces_add = 3.5
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_metallurgists_alloys_produces_add = 0.25
		planet_artisans_consumer_goods_produces_add = 0.33
		planet_metallurgists_energy_upkeep_add = 0.25
		planet_artisans_energy_upkeep_add = 0.25
		#planet_labour_hero_consumer_goods_produces_add = 2
		#planet_labour_hero_alloys_produces_add = 1.5
		#planet_labour_hero_energy_upkeep_add = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_artisans_produces_mult = 0.05
			planet_metallurgists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_industrial
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_civilian_industry
			}
			mode = add
			mult = 6
		}
		complex_trigger_modifier = {
			trigger = num_districts
			parameters = {
				type = district_arcology_arms_industry
			}
			mode = add
			mult = 6
		}
		modifier = {
			add = 8
			OR = {
				has_building = building_factory_1
				has_building = building_factory_2
				has_building = building_factory_3
			}
		}
		modifier = {
			add = 8
			OR = {
				has_building = building_foundry_1
				has_building = building_foundry_2
				has_building = building_foundry_3
			}
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "manufacturing"
					has_sector_focus = "balanced"
				}
			}
		}
	}
}

# 研究型都市星球
col_ecu_research = {
	icon = GFX_colony_type_research

	potential = {
		is_capital = no
		OR = {
			uses_district_set = city_world
			uses_district_set = pdecocity
			uses_district_set = pdpalacearc
			uses_district_set = pdmilarc
			uses_district_set = pdcorpoarc
		}
	}


	planet_modifier = {
		planet_building_research_lab_1_build_speed_mult = 0.25
		planet_researchers_upkeep_mult = -0.2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
			}
		}
		modifier = {
			planet_jobs_unity_produces_mult = 0.1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_discovery_faith_in_science
				has_ethic = ethic_fanatic_materialist
			}
		}
		modifier = {
			biological_pop_happiness = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 1
		planet_researchers_society_research_produces_add = 1
		planet_researchers_engineering_research_produces_add = 1
		planet_researchers_energy_upkeep_add = 1
		#planet_labour_hero_physics_research_produces_add = 1
		#planet_labour_hero_society_research_produces_add = 1
		#planet_labour_hero_engineering_research_produces_add = 1
		#planet_labour_hero_energy_upkeep_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_researchers_physics_research_produces_add = 0.5
		planet_researchers_society_research_produces_add = 0.5
		planet_researchers_engineering_research_produces_add = 0.5
		planet_researchers_energy_upkeep_add = 0.5
		#planet_labour_hero_physics_research_produces_add = 0.5
		#planet_labour_hero_society_research_produces_add = 0.5
		#planet_labour_hero_engineering_research_produces_add = 0.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	weight_modifier = {
		modifier = {
			add = @stickiness
			has_designation = col_ecu_research
		}
		complex_trigger_modifier = {
			trigger = count_owned_pop
			parameters = {
				limit = {
					has_research_job = yes
				}
			}
			mode = add
			mult = 3
		}
		modifier = {
			factor = 0
			exists = sector
			sector = {
				has_any_sector_focus = yes
				NOR = {
					has_sector_focus = "balanced"
					has_sector_focus = "research"
				}
			}
		}
	}
}



##########慧慧玩意##########

# 堡垒型都市星球
col_city_fortress = {
	icon = GFX_colony_type_fortress

	potential = {
		uses_district_set = city_world
		is_capital = no
	}

	planet_modifier = {
		planet_building_stronghold_build_speed_mult = 0.25
		planet_district_warrior_drone_build_speed_mult = 0.25
		planet_orbital_bombardment_damage = -0.25
		army_defense_damage_mult = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = economic_stance_planned
				is_gestalt = no
				OR = {
					has_ethic = ethic_fanatic_socialism
					has_valid_civic = civic_worker_coop
					has_valid_civic = civic_glorious_pioneer
					has_active_tradition = tr_future_economy
				}
			}
		}
		job_conscript_per_pop = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = economic_stance_planned
				is_gestalt = no
				NOR = {
					has_ethic = ethic_fanatic_socialism
					has_valid_civic = civic_worker_coop
					has_valid_civic = civic_glorious_pioneer
					has_active_tradition = tr_future_economy
				}
			}
		}
		job_conscript_per_pop = 0.03
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_policy_flag = economic_stance_planned
				is_gestalt = yes
			}
		}
		job_warrior_drone_per_pop = 0.05
	}

	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_fortress
		}
		modifier = {
			add = 3
			num_buildings = { type = building_stronghold value >= 2 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_stronghold value >= 3 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_stronghold value >= 4 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_fortress value >= 1 }
		}
		modifier = {
			add = 5
			num_buildings = { type = building_fortress value >= 2 }
		}
	}
}

# 执法者都市星球
col_city_enforcer = {
	icon = GFX_colony_type_enforcer

	potential = {
		uses_district_set = city_world
		is_capital = no
		owner = {
			is_regular_empire = yes
			NOR = {
				has_valid_civic = civic_underworld_society
				has_valid_civic = civic_anarchism
			}
		}
		has_district = district_enforcer
	}
	
	planet_modifier = {
		planet_crime_mult = -0.25
		planet_stability_add = 5
		pop_happiness = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_enforcers_unity_produces_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_enforcers_unity_produces_add = 0.25
	}

	weight_modifier = {
		base = 10000
	}
}

# 罪恶都市星球
col_city_criminal = {
	icon = GFX_colony_type_criminal

	potential = {
		uses_district_set = city_world
		is_capital = no
		owner = { has_valid_civic = civic_underworld_society }
		has_district = district_criminal
	}

	planet_modifier = {
		planet_crime_mult = 1
		planet_amenities_mult = 0.5
		planet_stability_add = 15
		job_criminal_per_pop = 0.05
	}

	weight_modifier = {
		base = 10000
	}
}

# 精炼型都市星球
col_city_refinery = {
	icon = GFX_colony_type_refinery

	potential = {
		uses_district_set = city_world
		is_capital = no
	}

	planet_modifier = {
		planet_refiners_produces_mult = 0.2
		planet_translucers_produces_mult = 0.2
		planet_chemists_produces_mult = 0.2
		planet_building_refinery_build_speed_mult = 0.25
		planet_building_chemical_plant_build_speed_mult = 0.25
		planet_building_crystal_plant_build_speed_mult = 0.25
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_rare_crystals_produces_mult = 0.1
		planet_jobs_exotic_gases_produces_mult = 0.1
		planet_jobs_volatile_motes_produces_mult = 0.1
		#planet_labour_hero_volatile_motes_produces_add = 1
		#planet_labour_hero_rare_crystals_produces_add = 1
		#planet_labour_hero_exotic_gases_produces_add = 1
		#planet_labour_hero_minerals_upkeep_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_rare_crystals_produces_mult = 0.05
		planet_jobs_exotic_gases_produces_mult = 0.05
		planet_jobs_volatile_motes_produces_mult = 0.05
		#planet_labour_hero_volatile_motes_produces_add = 0.5
		#planet_labour_hero_rare_crystals_produces_add = 0.5
		#planet_labour_hero_exotic_gases_produces_add = 0.5
		#planet_labour_hero_minerals_upkeep_add = 2.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
			}
			OR = {
				is_active_resolution = "resolution_industry_environmental_ordinance_waivers"
				is_active_resolution = "resolution_industry_project_cornucopia"
			}
		}
		modifier = {
			planet_refiners_produces_mult = 0.05
			planet_translucers_produces_mult = 0.05
			planet_chemists_produces_mult = 0.05
		}
	}

	weight_modifier = {
		modifier = {
			add = 1
			num_free_districts = { type = district_mining value <= @free_districts_low_threshold }
			num_free_districts = { type = district_farming value <= @free_districts_low_threshold }
			num_free_districts = { type = district_generator value <= @free_districts_low_threshold }
			OR = {
				AND = {
					num_districts = {
						type = district_city
						value >= 1
					}
					num_free_districts = { type = district_city value <= @free_districts_medium_threshold }
				}
				AND = {
					num_districts = {
						type = district_nexus
						value >= 1
					}
					num_free_districts = { type = district_nexus value <= @free_districts_medium_threshold }
				}
				AND = {
					num_districts = {
						type = district_hive
						value >= 1
					}
					num_free_districts = { type = district_hive value <= @free_districts_medium_threshold }
				}
			}
			OR = {
				owner = { has_monthly_income = { resource = volatile_motes value < 0 } }
				owner = { has_monthly_income = { resource = exotic_gases value < 0 } }
				owner = { has_monthly_income = { resource = rare_crystals value < 0 } }
			}
		}
		modifier = {
			add = 5
			has_designation = col_refinery
		}
		modifier = {
			add = 2
			num_buildings = { type = building_refinery value >= 2 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_refinery value >= 3 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_refinery value >= 4 }
		}
		modifier = {
			add = 2
			num_buildings = { type = building_crystal_plant value >= 2 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_crystal_plant value >= 3 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_crystal_plant value >= 4 }
		}
		modifier = {
			add = 2
			num_buildings = { type = building_chemical_plant value >= 2 }
		}
		modifier = {
			add = 3
			num_buildings = { type = building_chemical_plant value >= 3 }
		}
		modifier = {
			add = 4
			num_buildings = { type = building_chemical_plant value >= 4 }
		}
		modifier = {
			add = 10
				OR = {
					num_buildings = { type = building_refinery value >= 5 }
					num_buildings = { type = building_crystal_plant value >= 5 }
					num_buildings = { type = building_chemical_plant value >= 5 }
				}
		}
		modifier = {
			factor = 0
			NOR = {
				has_building = building_refinery
				has_building = building_crystal_plant
				has_building = building_chemical_plant
			}
		}
	}
}

# 农业型都市星球
col_city_farming = {
	icon = GFX_colony_type_farm

	potential = {
		uses_district_set = city_world
		is_capital = no
		owner = { is_machine_empire = no }
	}

	planet_modifier = {
		planet_building_hydroponics_farm_build_speed_mult = 0.25
		planet_farmers_food_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 1.5
		planet_farmers_energy_upkeep_add = 0.5
		#planet_labour_hero_food_produces_add = 4.5
		#planet_labour_hero_energy_upkeep_add = 0.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_farmers_food_produces_add = 0.75
		planet_farmers_energy_upkeep_add = 0.25
		#planet_labour_hero_food_produces_add = 1.5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = no
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_galactic_community_member = yes
				is_gestalt = yes
			}
			OR = {
				is_active_resolution = "resolution_greatergood_five_year_plans"
				is_active_resolution = "resolution_greatergood_greater_than_ourselves"
				is_active_resolution = "resolution_greatergood_balance_in_the_middle"
				is_active_resolution = "resolution_greatergood_universal_prosperity_mandate"
			}
		}
		modifier = {
			planet_jobs_simple_drone_produces_mult = 0.1
		}
	}

	weight_modifier = {
		base = 0
	}
}

# 神圣都市星球
col_city_priest = {
	icon = GFX_colony_type_primitive_priest

	potential = {
		uses_district_set = city_world
		is_capital = no
		owner = { is_machine_empire = no }
		owner = {
			is_regular_empire = yes
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}		
		}
	}

	planet_modifier = {
		spiritualist_attraction = 0.5
		planet_priests_unity_produces_add = 2
		planet_administrators_upkeep_mult = -0.10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner.federation
			owner.federation = { has_federation_perk = all_the_priests_1 }
		}
		job_priest_per_pop = 0.04
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_full_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.20
		#planet_labour_hero_unity_produces_mult = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_economic_stance_planned = yes
			}
		}
		planet_jobs_unity_produces_mult = 0.10
		#planet_labour_hero_unity_produces_mult = 0.5
	}

	weight_modifier = {
		base = 0
	}
}

# 贵族都市星球
col_city_noble = {
	icon = GFX_colony_type_primitive_noble

	potential = {
		uses_district_set = city_world
		is_capital = no
		owner = {
			has_valid_civic = civic_aristocratic_elite
		}		
	}

	planet_modifier = {
		pop_citizen_happiness = 0.15
		planet_jobs_ruler_produces_mult = 0.4
		pop_cat_worker_happiness = -0.5
		planet_jobs_worker_produces_mult = 0.25		
	}

	weight_modifier = {
		base = 0
	}
}
